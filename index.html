<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Portfolio - 作品集</title>
    <link rel="icon" type="image/png" href="https://vdesign5.github.io/home/assets/logo.png">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@300;400;500;700&display=swap" rel="stylesheet">
    
    <!-- Lottie動畫庫 -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/lottie-web/5.12.2/lottie.min.js"></script>
    
    <style>
        /* 字體定義 */
        @font-face {
            font-family: 'Futura';
            src: url('https://fonts.cdnfonts.com/css/futura-pt') format('woff2');
            font-display: swap;
        }
        
        /* 重置樣式 */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Futura', 'Arial', sans-serif;
            background-color: #fafafa;
            color: #000;
            line-height: 1.6;
            overflow-x: hidden;
        }

        /* 主要內容容器 - 最大寬度限制 */
        .main-container {
            max-width: 1440px;
            margin: 0 auto;
            background: #fff;
            position: relative;
            box-shadow: 0 0 50px rgba(0, 0, 0, 0.05);
            min-height: 100vh;
        }

        /* 導航容器 - 改用柔和陰影 */
        .navbar {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 1000;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(15px);
            box-shadow: 0 2px 20px rgba(0, 0, 0, 0.08);
            padding: 20px 0;
            transition: all 0.42s ease;
        }

        /* 導航內容容器 */
        .nav-container {
            max-width: 1440px;
            margin: 0 auto;
            padding: 0 60px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: relative;
        }

        /* Logo區域 - 調整logotype位置 */
        .logo {
            display: flex;
            align-items: center;
            text-decoration: none;
            position: relative;
            overflow: hidden;
            height: 40px;
            transition: all 0.42s ease;
        }

        .logo img {
            height: 40px;
            width: auto;
            transition: all 0.42s ease;
            position: relative;
            z-index: 2;
        }

        /* Logotype - 更靠近logo */
        .logo-type {
            position: absolute;
            left: 35px; /* 從42px調整為35px */
            height: 40px;
            width: auto;
            opacity: 0;
            transform: translateX(-10px); /* 從-15px調整為-10px */
            transition: all 0.5s cubic-bezier(0.23, 1, 0.32, 1);
            z-index: 1;
        }

        .logo:hover .logo-type {
            opacity: 1;
            transform: translateX(0);
        }

        .logo:hover {
            padding-right: 100px; /* 從110px調整為100px */
        }

        /* 台灣時間顯示 */
        .taiwan-time {
            position: absolute;
            left: 50%;
            transform: translateX(-50%);
            font-family: 'Futura', 'Arial', sans-serif;
            font-size: 0.75rem;
            color: #999;
            letter-spacing: 0.5px;
            font-weight: 300;
        }

        /* 導航選單 */
        .nav-menu {
            display: flex;
            list-style: none;
            gap: 60px;
        }

        .nav-item {
            position: relative;
        }

        /* 導航圖片樣式 */
        .nav-image {
            height: 40px;
            width: auto;
            transition: all 0.42s ease;
            filter: grayscale(1) brightness(0.8);
        }

        /* 非當前頁面 - 淺灰色 #CCCCCC */
        .nav-link:not(.active) .nav-image {
            filter: grayscale(1) brightness(0.8) sepia(1) hue-rotate(0deg) saturate(0) contrast(1.2);
            opacity: 0.6;
        }

        /* 當前頁面 - 深灰色 #333333 */
        .nav-link.active .nav-image {
            filter: grayscale(1) brightness(0.2) sepia(0) saturate(0);
            opacity: 1;
        }

        /* Hover效果 - 品牌紅色 */
        .nav-link:hover .nav-image {
            filter: sepia(1) saturate(10) hue-rotate(340deg) brightness(1.2) contrast(1.5);
            transform: translateY(-2px);
        }

        /* 為每個選單項目設定不同旋轉角度 */
        .nav-item:nth-child(1) {
            transform: rotate(0deg);
            transition: transform 0.56s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        }

        .nav-item:nth-child(2) {
            transform: rotate(15deg);
            transition: transform 0.56s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        }

        .nav-item:nth-child(3) {
            transform: rotate(30deg);
            transition: transform 0.56s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        }

        /* Hover時恢復到0度 */
        .nav-item:hover {
            transform: rotate(0deg);
            transition: transform 0.8s cubic-bezier(0.23, 1, 0.32, 1);
        }

        /* 點擊時的動畫 */
        .nav-item:active {
            transform: rotate(0deg) scale(0.95);
            transition: transform 1.2s cubic-bezier(0.19, 1, 0.22, 1);
        }

        .nav-link {
            color: transparent;
            text-decoration: none;
            position: relative;
            transition: all 0.42s ease;
            padding: 10px;
            display: block;
        }

        /* 手機版漢堡選單 */
        .hamburger {
            display: none;
            flex-direction: column;
            cursor: pointer;
            padding: 5px;
            transition: transform 0.42s ease;
        }

        .hamburger span {
            width: 25px;
            height: 2px;
            background: #000;
            margin: 3px 0;
            transition: all 0.42s ease;
        }

        .hamburger.active {
            transform: rotate(45deg);
        }

        .hamburger.active span:nth-child(1) {
            transform: rotate(45deg) translate(6px, 6px);
        }

        .hamburger.active span:nth-child(2) {
            opacity: 0;
        }

        .hamburger.active span:nth-child(3) {
            transform: rotate(-45deg) translate(6px, -6px);
        }

        /* Hero區域 - 北歐簡約風格 */
        .hero-section {
            position: relative;
            width: 100%;
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            overflow: hidden;
            background: 
                linear-gradient(135deg, #fafafa 0%, #f5f5f5 25%, #ffffff 50%, #f8f8f8 75%, #fafafa 100%);
        }

        /* 優雅的紙質背景紋理 */
        .hero-bg-elements {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1;
            background: 
                radial-gradient(circle at 20% 30%, rgba(0, 0, 0, 0.02) 0%, transparent 50%),
                radial-gradient(circle at 80% 70%, rgba(0, 0, 0, 0.015) 0%, transparent 50%),
                linear-gradient(135deg, rgba(0, 0, 0, 0.005) 0%, rgba(0, 0, 0, 0.01) 50%, rgba(0, 0, 0, 0.005) 100%);
        }

        /* 微妙的紙質紋理效果 */
        .hero-bg-elements::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-image: 
                radial-gradient(circle at 1px 1px, rgba(0,0,0,0.008) 1px, transparent 0);
            background-size: 20px 20px;
            opacity: 0.3;
        }

        /* 固定的Logo動畫容器 - 調整大小 */
        .hero-logo-container {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) scale(3.2); /* 電腦版調小一些 */
            width: 200px;
            height: 200px;
            z-index: 5;
            pointer-events: none;
        }

        #logo-motion {
            width: 100%;
            height: 100%;
            filter: drop-shadow(0 10px 30px rgba(0, 0, 0, 0.1));
        }

        /* 輪播圖容器 - 北歐簡約風格 */
        .carousel-container {
            position: absolute;
            bottom: 60px;
            left: 60px;
            width: 420px;
            height: 210px;
            border-radius: 8px; /* 減少圓角 */
            overflow: hidden;
            background: rgba(255, 255, 255, 0.95);
            box-shadow: 
                0 2px 20px rgba(0, 0, 0, 0.06),
                inset 0 1px 0 rgba(255, 255, 255, 0.8),
                inset 0 -1px 0 rgba(0, 0, 0, 0.05); /* 凹凸紙質效果 */
            z-index: 10;
            transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            border: 1px solid rgba(0, 0, 0, 0.08);
        }

        .carousel-container:hover {
            transform: translateY(-3px);
            box-shadow: 
                0 8px 35px rgba(0, 0, 0, 0.12),
                inset 0 1px 0 rgba(255, 255, 255, 0.9),
                inset 0 -1px 0 rgba(0, 0, 0, 0.08);
        }

        /* 輪播圖包裝器 - 無縫循環 */
        .carousel-wrapper {
            display: flex;
            transition: transform 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            height: 100%;
            width: calc(800% + 100%); /* 8張圖片 + 第一張的複製 */
        }

        /* 輪播圖片 */
        .carousel-slide {
            min-width: 100%;
            height: 100%;
            background-size: cover;
            background-position: center;
        }

        /* 輪播圖指示器 */
        .carousel-indicators {
            position: absolute;
            top: -30px;
            left: 0;
            display: flex;
            font-family: 'Futura', monospace;
            font-size: 16px;
            color: #333;
            letter-spacing: 2px;
        }

        .indicator-bracket {
            color: #333;
        }

        .indicator {
            opacity: 0.3;
            transition: opacity 0.3s ease;
            margin: 0 1px;
        }

        .indicator.active {
            opacity: 1;
            color: #333;
        }

        /* 文字介紹區域 - 北歐簡約風格 */
        .intro-text {
            position: absolute;
            top: 50%;
            right: 180px; /* 從60px調整為180px，向左移動120px */
            transform: translateY(-50%);
            z-index: 10;
            opacity: 0;
            animation: fadeInFromLeft 1.2s ease-out 0.5s forwards;
            max-width: 350px;
            text-align: right;
            padding: 25px 30px;
            background: rgba(255, 255, 255, 0.85);
            backdrop-filter: blur(15px);
            border-radius: 6px; /* 減少圓角 */
            box-shadow: 
                0 4px 25px rgba(0, 0, 0, 0.08),
                inset 0 1px 0 rgba(255, 255, 255, 0.9),
                inset 0 -1px 0 rgba(0, 0, 0, 0.04); /* 紙質凹凸效果 */
            border: 1px solid rgba(0, 0, 0, 0.06);
        }

        .intro-english {
            font-family: 'Futura', 'Arial', sans-serif;
            font-size: 1.3rem;
            color: #333333;
            font-weight: 400;
            letter-spacing: 0.5px;
            line-height: 1.5;
            margin-bottom: 8px;
        }

        .intro-chinese {
            font-family: '思源黑體', 'Noto Sans TC', 'Source Han Sans TC', sans-serif;
            font-size: 0.65rem;
            color: #CCCCCC;
            font-weight: 300;
            letter-spacing: 0.3px;
            line-height: 1.6;
        }

        /* 淡入動畫 */
        @keyframes fadeInFromLeft {
            from {
                opacity: 0;
                transform: translateX(30px) translateY(-50%);
            }
            to {
                opacity: 1;
                transform: translateX(0) translateY(-50%);
            }
        }

        /* 滾動遮罩層 */
        .scroll-mask {
            position: absolute;
            top: 100vh;
            left: 0;
            right: 0;
            height: 100vh;
            background: #fff;
            z-index: 6;
        }

        /* 跑馬燈區域 */
        .marquee-section {
            position: relative;
            width: 100%;
            height: 80px;
            background: #fff;
            box-shadow: 0 2px 20px rgba(0, 0, 0, 0.05);
            overflow: hidden;
            z-index: 10;
            display: flex;
            align-items: center;
        }

        /* 跑馬燈容器 */
        .marquee-container {
            display: flex;
            animation: marquee 25s linear infinite;
            white-space: nowrap;
            will-change: transform;
        }

        /* 跑馬燈文字 */
        .marquee-text {
            font-size: 1.6rem;
            font-weight: 300;
            letter-spacing: 1px;
            margin-right: 60px;
            display: flex;
            align-items: center;
            white-space: nowrap;
        }

        .marquee-text .english {
            color: #333333;
            font-weight: 500;
            font-family: 'Futura', 'Arial', sans-serif;
            font-size: 1.6rem;
        }

        .marquee-text .chinese {
            color: #CCCCCC;
            font-family: '思源黑體', 'Noto Sans TC', 'Source Han Sans TC', sans-serif;
            font-size: 0.8rem;
            font-weight: 300;
        }

        .marquee-text .punctuation {
            color: #CCCCCC;
            font-family: 'Futura', 'Arial', sans-serif;
            font-size: 0.8rem;
        }

        .marquee-text .separator {
            color: #CCCCCC;
            margin: 0 20px;
            font-size: 1rem;
            font-family: 'Futura', 'Arial', sans-serif;
        }

        @keyframes marquee {
            0% {
                transform: translateX(0%);
            }
            100% {
                transform: translateX(-50%);
            }
        }

        /* 內容區域 */
        .content-section {
            position: relative;
            background: #fff;
            z-index: 10;
            min-height: 100vh;
            padding: 80px 60px;
        }

        /* 滑動過渡效果 */
        .navbar.scrolled {
            padding: 15px 0;
            background: rgba(255, 255, 255, 0.98);
            box-shadow: 0 4px 25px rgba(0, 0, 0, 0.12);
        }

        .navbar.scrolled .logo img {
            height: 35px;
            transition: height 0.42s ease;
        }

        .navbar.scrolled .logo-type {
            height: 35px;
            left: 32px;
        }

        /* 超大螢幕響應式 */
        @media (min-width: 1920px) {
            .hero-logo-container {
                transform: translate(-50%, -50%) scale(3.8);
                width: 250px;
                height: 250px;
            }

            .intro-text {
                right: 240px;
                max-width: 400px;
            }

            .carousel-container {
                left: 120px;
                bottom: 80px;
                width: 480px;
                height: 240px;
            }
        }

        /* 響應式設計 */
        @media (max-width: 1440px) {
            .nav-container {
                padding: 0 40px;
            }

            .intro-text {
                right: 140px;
            }

            .carousel-container {
                left: 40px;
                bottom: 40px;
            }

            .content-section {
                padding: 80px 40px;
            }
        }

        @media (max-width: 1024px) {
            .carousel-container {
                width: 350px;
                height: 175px;
            }

            .intro-text {
                right: 100px;
                max-width: 300px;
                padding: 20px;
            }

            .intro-english {
                font-size: 1.1rem;
            }

            .intro-chinese {
                font-size: 0.55rem;
            }

            .hero-logo-container {
                transform: translate(-50%, -50%) scale(2.8);
            }
        }

        @media (max-width: 768px) {
            .nav-container {
                padding: 0 20px;
            }

            .taiwan-time {
                display: none; /* 手機版隱藏時間 */
            }

            .logo img {
                height: 32px;
            }

            .logo-type {
                height: 32px;
                left: 30px;
            }

            .logo:hover {
                padding-right: 85px;
            }

            .hamburger {
                display: flex;
            }

            .nav-menu {
                position: fixed;
                top: 80px;
                right: -100%;
                width: 100%;
                height: calc(100vh - 80px);
                background: rgba(255, 255, 255, 0.98);
                backdrop-filter: blur(10px);
                flex-direction: column;
                justify-content: flex-start;
                align-items: center;
                gap: 30px;
                padding-top: 60px;
                transition: right 0.42s ease;
            }

            .nav-item:nth-child(1),
            .nav-item:nth-child(2),
            .nav-item:nth-child(3) {
                transform: rotate(0deg);
            }

            .nav-image {
                height: 35px;
            }

            .nav-menu.active {
                right: 0;
            }

            /* 手機版輪播圖位置調整 */
            .carousel-container {
                width: calc(100% - 40px);
                height: 160px;
                left: 20px;
                bottom: 20px;
                max-width: 400px;
            }

            .hero-logo-container {
                transform: translate(-50%, -60%) scale(3.2); /* 手機版放大 */
                width: 150px;
                height: 150px;
                top: 40%;
            }

            /* 手機版文字位置調整避免被遮擋 - 不調整位置 */
            .intro-text {
                left: 50%;
                right: auto;
                top: 65%;
                transform: translateX(-50%) translateY(-50%);
                text-align: center;
                padding: 20px;
                max-width: 90%;
                background: rgba(255, 255, 255, 0.9);
            }

            @keyframes fadeInFromLeft {
                from {
                    opacity: 0;
                    transform: translateX(-50%) translateY(-50%);
                }
                to {
                    opacity: 1;
                    transform: translateX(-50%) translateY(-50%);
                }
            }

            .intro-english {
                font-size: 1rem;
            }

            .intro-chinese {
                font-size: 0.5rem;
            }

            .marquee-section {
                height: 60px;
            }

            .marquee-text {
                font-size: 1.2rem;
                margin-right: 40px;
            }

            .marquee-text .english {
                font-size: 1.2rem;
            }

            .marquee-text .chinese,
            .marquee-text .punctuation {
                font-size: 0.6rem;
            }

            .content-section {
                padding: 60px 20px;
            }
        }

        @media (max-width: 480px) {
            .nav-container {
                padding: 0 15px;
            }

            .logo img {
                height: 28px;
            }

            .logo-type {
                height: 28px;
                left: 28px;
            }

            .carousel-container {
                height: 140px;
            }

            .hero-logo-container {
                transform: translate(-50%, -60%) scale(2.8);
                width: 120px;
                height: 120px;
            }

            .intro-text {
                top: 68%;
                padding: 15px;
            }

            .intro-english {
                font-size: 0.9rem;
            }

            .intro-chinese {
                font-size: 0.45rem;
            }

            .carousel-indicators {
                font-size: 14px;
                top: -20px;
            }
        }

        /* Lottie動畫備用CSS樣式 */
        .lottie-fallback {
            width: 100%;
            height: 100%;
            position: relative;
        }

        .lottie-fallback svg {
            width: 100%;
            height: 100%;
        }
    </style>
</head>
<body>
    <!-- 主容器 -->
    <div class="main-container">
        <!-- 導航選單 -->
        <nav class="navbar" id="navbar">
            <div class="nav-container">
                <!-- Logo with hover logotype -->
                <a href="index.html" class="logo">
                    <img src="https://vdesign5.github.io/home/assets/logo.png" alt="Logo" id="logo-img">
                    <img src="./assets/logotype_vdesign.png" alt="VDESIGN" class="logo-type">
                </a>

                <!-- 台灣時間顯示 -->
                <div class="taiwan-time" id="taiwan-time">
                    TPE 00:00
                </div>

                <!-- 導航選單 -->
                <ul class="nav-menu" id="nav-menu">
                    <li class="nav-item">
                        <a href="project.html" class="nav-link active" data-page="project">
                            <img src="https://vdesign5.github.io/home/assets/project.webp" alt="Project" class="nav-image">
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="about.html" class="nav-link" data-page="about">
                            <img src="https://vdesign5.github.io/home/assets/about.webp" alt="About" class="nav-image">
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="contact.html" class="nav-link" data-page="contact">
                            <img src="https://vdesign5.github.io/home/assets/contact.webp" alt="Contact" class="nav-image">
                        </a>
                    </li>
                </ul>

                <!-- 手機版漢堡選單 -->
                <div class="hamburger" id="hamburger">
                    <span></span>
                    <span></span>
                    <span></span>
                </div>
            </div>
        </nav>

        <!-- Hero區域 -->
        <section class="hero-section">
            <!-- 背景紙質紋理 -->
            <div class="hero-bg-elements"></div>

            <!-- 固定的Logo動畫 (調整大小) -->
            <div class="hero-logo-container" id="hero-logo-container">
                <div id="logo-motion"></div>
            </div>

            <!-- 文字介紹 (向左移動120px) -->
            <div class="intro-text">
                <div class="intro-english">
                    VDESIGN is a creative studio<br>
                    based in Taiwan
                </div>
                <div class="intro-chinese">
                    V DESIGN是一個位於台灣的創意工作室
                </div>
            </div>

            <!-- 輪播圖 (左下角) -->
            <div class="carousel-container">
                <div class="carousel-indicators">
                    <span class="indicator-bracket">(</span>
                    <span class="indicator active">*</span>
                    <span class="indicator">*</span>
                    <span class="indicator">*</span>
                    <span class="indicator">*</span>
                    <span class="indicator">*</span>
                    <span class="indicator">*</span>
                    <span class="indicator">*</span>
                    <span class="indicator">*</span>
                    <span class="indicator-bracket">)</span>
                </div>
                <div class="carousel-wrapper" id="carousel-wrapper">
                    <div class="carousel-slide" style="background-image: url('./assets/showcase_I.jpg')"></div>
                    <div class="carousel-slide" style="background-image: url('./assets/showcase_II.jpg')"></div>
                    <div class="carousel-slide" style="background-image: url('./assets/showcase_III.jpg')"></div>
                    <div class="carousel-slide" style="background-image: url('./assets/showcase_IV.jpg')"></div>
                    <div class="carousel-slide" style="background-image: url('./assets/showcase_V.jpg')"></div>
                    <div class="carousel-slide" style="background-image: url('./assets/showcase_I.webp')"></div>
                    <div class="carousel-slide" style="background-image: url('./assets/showcase_II.webp')"></div>
                    <div class="carousel-slide" style="background-image: url('./assets/showcase_III.webp')"></div>
                    <!-- 第一張的複製，實現無縫循環 -->
                    <div class="carousel-slide" style="background-image: url('./assets/showcase_I.jpg')"></div>
                </div>
            </div>
        </section>

        <!-- 滾動遮罩層 -->
        <div class="scroll-mask"></div>

        <!-- 跑馬燈區域 -->
        <section class="marquee-section">
            <div class="marquee-container">
                <!-- 第一組文字 -->
                <div class="marquee-text">
                    <span class="english">Visual</span>
                    <span class="punctuation"> / </span>
                    <span class="chinese">視覺美學</span>
                    <span class="separator">•</span>
                    <span class="english">Vivid</span>
                    <span class="punctuation"> / </span>
                    <span class="chinese">生動表現</span>
                    <span class="separator">•</span>
                    <span class="english">Versatile</span>
                    <span class="punctuation"> / </span>
                    <span class="chinese">靈活創新</span>
                    <span class="separator">•</span>
                    <span class="english">Visionary</span>
                    <span class="punctuation"> / </span>
                    <span class="chinese">前瞻視野</span>
                    <span class="separator">•</span>
                    <span class="english">Vertex</span>
                    <span class="punctuation"> / </span>
                    <span class="chinese">追求頂點</span>
                    <span class="separator">•</span>
                </div>
                <!-- 第二組文字（無縫循環） -->
                <div class="marquee-text">
                    <span class="english">Visual</span>
                    <span class="punctuation"> / </span>
                    <span class="chinese">視覺美學</span>
                    <span class="separator">•</span>
                    <span class="english">Vivid</span>
                    <span class="punctuation"> / </span>
                    <span class="chinese">生動表現</span>
                    <span class="separator">•</span>
                    <span class="english">Versatile</span>
                    <span class="punctuation"> / </span>
                    <span class="chinese">靈活創新</span>
                    <span class="separator">•</span>
                    <span class="english">Visionary</span>
                    <span class="punctuation"> / </span>
                    <span class="chinese">前瞻視野</span>
                    <span class="separator">•</span>
                    <span class="english">Vertex</span>
                    <span class="punctuation"> / </span>
                    <span class="chinese">追求頂點</span>
                    <span class="separator">•</span>
                </div>
            </div>
        </section>

        <!-- 內容區域 -->
        <section class="content-section">
            <div style="max-width: 1200px; margin: 0 auto;">
                <h2 style="font-size: 2.5rem; margin-bottom: 30px; letter-spacing: 2px; font-family: 'Futura', 'Arial', sans-serif;">Our Projects</h2>
                <p style="font-size: 1.2rem; color: #666; line-height: 1.8; font-family: '思源黑體', 'Noto Sans TC', sans-serif;">
                    探索我們的創意作品，每一個專案都是獨特的視覺體驗。
                </p>
            </div>
        </section>
    </div>

    <script>
        // DOM元素
        const navbar = document.getElementById('navbar');
        const hamburger = document.getElementById('hamburger');
        const navMenu = document.getElementById('nav-menu');
        const navLinks = document.querySelectorAll('.nav-link');
        const heroLogoContainer = document.getElementById('hero-logo-container');
        const carouselWrapper = document.getElementById('carousel-wrapper');
        const indicators = document.querySelectorAll('.indicator');
        const taiwanTimeElement = document.getElementById('taiwan-time');

        // Lottie動畫物件
        let logoAnimation = null;

        // 台灣時間更新函數
        function updateTaiwanTime() {
            const now = new Date();
            const taiwanTime = new Date(now.toLocaleString("en-US", {timeZone: "Asia/Taipei"}));
            const hours = taiwanTime.getHours().toString().padStart(2, '0');
            const minutes = taiwanTime.getMinutes().toString().padStart(2, '0');
            taiwanTimeElement.textContent = `TPE ${hours}:${minutes}`;
        }

        // 每秒更新時間
        setInterval(updateTaiwanTime, 1000);
        updateTaiwanTime(); // 立即執行一次

        // 滾動效果
        window.addEventListener('scroll', () => {
            const scrollY = window.scrollY;
            const heroHeight = window.innerHeight;
            
            // 導航欄效果
            if (scrollY > 50) {
                navbar.classList.add('scrolled');
            } else {
                navbar.classList.remove('scrolled');
            }

            // Logo動畫隨滾動播放
            if (logoAnimation && logoAnimation.totalFrames) {
                const scrollProgress = Math.min(scrollY / (heroHeight * 0.8), 1);
                const frame = scrollProgress * (logoAnimation.totalFrames - 1);
                logoAnimation.goToAndStop(frame, true);
                
                // 滾動到底部時隱藏
                if (scrollY > heroHeight - 100) {
                    heroLogoContainer.style.opacity = '0';
                } else {
                    heroLogoContainer.style.opacity = '1';
                }
            } else if (document.getElementById('css-logo-animation')) {
                // CSS備用方案
                const scrollProgress = Math.min(scrollY / (heroHeight * 0.8), 1);
                const rotation = scrollProgress * 360;
                const scale = 1 - (scrollProgress * 0.3);
                const cssAnimation = document.getElementById('css-logo-animation');
                cssAnimation.style.transform = `rotate(${rotation}deg) scale(${scale})`;
                
                if (scrollY > heroHeight - 100) {
                    heroLogoContainer.style.opacity = '0';
                } else {
                    heroLogoContainer.style.opacity = '1';
                }
            }
        });

        // 手機版選單切換
        hamburger.addEventListener('click', () => {
            hamburger.classList.toggle('active');
            navMenu.classList.toggle('active');
            document.body.style.overflow = navMenu.classList.contains('active') ? 'hidden' : 'auto';
        });

        // 點擊選單項目關閉手機版選單
        navLinks.forEach(link => {
            link.addEventListener('click', function(e) {
                // 桌面版點擊動畫效果
                if (window.innerWidth > 768) {
                    const navItem = this.parentElement;
                    navItem.style.transition = 'transform 1.2s cubic-bezier(0.19, 1, 0.22, 1)';
                    navItem.style.transform = 'rotate(0deg) scale(0.95)';
                    
                    setTimeout(() => {
                        navItem.style.transform = 'rotate(0deg) scale(1)';
                    }, 100);
                    
                    setTimeout(() => {
                        navItem.style.transition = '';
                        navItem.style.transform = '';
                    }, 1200);
                }
                
                // 關閉手機版選單
                hamburger.classList.remove('active');
                navMenu.classList.remove('active');
                document.body.style.overflow = 'auto';
            });
        });

        // 輪播圖功能 - 無縫循環
        let currentSlide = 0;
        const totalSlides = 8; // 實際圖片數量
        const totalSlidesWithClone = 9; // 包含複製的第一張

        function updateCarousel() {
            if (currentSlide === totalSlides) {
                // 到達複製的第一張時，無過渡效果跳回真正的第一張
                carouselWrapper.style.transition = 'none';
                carouselWrapper.style.transform = `translateX(0%)`;
                currentSlide = 0;
                
                // 重新啟用過渡效果
                setTimeout(() => {
                    carouselWrapper.style.transition = 'transform 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94)';
                }, 50);
            } else {
                carouselWrapper.style.transform = `translateX(-${currentSlide * (100 / totalSlidesWithClone)}%)`;
            }
            
            // 更新指示器（只顯示真實圖片的指示器）
            indicators.forEach((indicator, index) => {
                if (index === currentSlide) {
                    indicator.classList.add('active');
                } else {
                    indicator.classList.remove('active');
                }
            });
        }

        function nextSlide() {
            currentSlide++;
            updateCarousel();
        }

        // 自動輪播
        setInterval(nextSlide, 4000);

        // 初始化Lottie動畫 - 優化版本
        function initLogoAnimation() {
            const logoMotionContainer = document.getElementById('logo-motion');
            
            if (typeof lottie !== 'undefined') {
                try {
                    logoAnimation = lottie.loadAnimation({
                        container: logoMotionContainer,
                        renderer: 'svg',
                        loop: false,
                        autoplay: false,
                        path: './assets/logo_motion.json',
                        rendererSettings: {
                            preserveAspectRatio: 'xMidYMid meet',
                            clearCanvas: true,
                            progressiveLoad: false,
                            hideOnTransparent: true,
                            className: 'lottie-svg'
                        }
                    });
                    
                    // 動畫載入完成後的處理
                    logoAnimation.addEventListener('DOMLoaded', function() {
                        const svgElement = logoMotionContainer.querySelector('svg');
                        if (svgElement) {
                            svgElement.setAttribute('preserveAspectRatio', 'xMidYMid meet');
                            svgElement.style.overflow = 'visible';
                            
                            // 修正遮色片問題
                            const defs = svgElement.querySelector('defs');
                            if (defs) {
                                const masks = defs.querySelectorAll('mask');
                                masks.forEach(mask => {
                                    const maskRect = mask.querySelector('rect');
                                    if (maskRect) {
                                        maskRect.setAttribute('fill', 'white');
                                    }
                                });
                                
                                const clipPaths = defs.querySelectorAll('clipPath');
                                clipPaths.forEach(clipPath => {
                                    const clipRect = clipPath.querySelector('rect');
                                    if (clipRect) {
                                        clipRect.setAttribute('fill', 'white');
                                    }
                                });
                            }
                        }
                        console.log('Lottie動畫已載入並優化遮色片');
                    });
                    
                    logoAnimation.addEventListener('loadError', function() {
                        console.error('Lottie動畫載入失敗，使用備用方案');
                        fallbackAnimation();
                    });
                    
                } catch (error) {
                    console.error('Lottie動畫初始化失敗:', error);
                    fallbackAnimation();
                }
            } else {
                console.log('Lottie庫未載入，使用備用方案');
                fallbackAnimation();
            }
        }

        // 備用動畫方案
        function fallbackAnimation() {
            const logoMotionContainer = document.getElementById('logo-motion');
            logoMotionContainer.innerHTML = `
                <div id="css-logo-animation" style="
                    width: 100%;
                    height: 100%;
                    background: url('./assets/logo.png') no-repeat center center;
                    background-size: contain;
                    transition: transform 0.1s linear;
                "></div>
            `;
            
            console.log('使用CSS動畫作為備用方案');
        }

        // 頁面載入完成後初始化
        window.addEventListener('load', function() {
            initLogoAnimation();
            updateCarousel();
            updateTaiwanTime();
        });

        // 點擊外部區域關閉選單
        document.addEventListener('click', (e) => {
            if (!navbar.contains(e.target)) {
                hamburger.classList.remove('active');
                navMenu.classList.remove('active');
                document.body.style.overflow = 'auto';
            }
        });

        // 視窗大小改變時的處理
        let resizeTimer;
        window.addEventListener('resize', function() {
            clearTimeout(resizeTimer);
            resizeTimer = setTimeout(function() {
                // 重新計算佈局
                if (window.innerWidth > 768) {
                    hamburger.classList.remove('active');
                    navMenu.classList.remove('active');
                    document.body.style.overflow = 'auto';
                }
            }, 250);
        });
    </script>
</body>
</html>
